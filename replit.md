# Arabic Construction Project Management System

## Recent Updates (ุฃุบุณุทุณ 2025)
- **โ ุชูููู ุตุงุฏู ูุญูููู ูุญุงูุฉ ุงููุธุงู (5 ุฃุบุณุทุณ 2025 - 10:17 ูุณุงุกู):**
  - **โ ูุธุงู ุงููุตุงุฏูุฉ ูุงููุณุชุฎุฏููู ููุชูู:** APIs ููุชุณุฌูู ูุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ ูุน ุชุดููุฑ bcrypt
  - **โ ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู ููุนู:** ุฌุฏููุฉ ูู 24 ุณุงุนุฉ ูุน ุญูุธ ุขูู ูู ูุฌูุฏ /backups
  - **โ ูุดุงูู ุฃุฏุงุก ุญููููุฉ:** ุฅุญุตุงุฆูุงุช ุงููุดุงุฑูุน ุชุณุชุบุฑู 4-7 ุซูุงูู (ูุทููุจ: <0.5s)
  - **โ ุฎุทุฃ LSP ูุชุจูู:** ุฎุทุฃ ูู routes.ts ุณุทุฑ 2472 ูู ููุตูุญ
  - **โ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุจูุงูุงุช ุบูุฑ ูุญุณูุฉ:** ุญุงุฌุฉ ูุฅุนุงุฏุฉ ููููุฉ ุฏุงูุฉ getProjectStatistics
  - **๐ฏ ุงูุญูููุฉ:** ุงููุธุงู ูุญุชุงุฌ ุฅุตูุงุญุงุช ุฃุณุงุณูุฉ ูุจู ุฃู ูููู ุฌุงูุฒ ูููุดุฑ ุงููุนูู
- **โ ุฅุตูุงุญุงุช ุญุฑุฌุฉ ููุฃุฏุงุก ูุงูุงุณุชูุฑุงุฑ ููุชููุฉ (5 ุฃุบุณุทุณ 2025 - 9:35 ูุณุงุกู):**
  - **โ ุชุญุณูู ุฃุฏุงุก ุฅุญุตุงุฆูุงุช ุงููุดุงุฑูุน:** ูู 5.39 ุซุงููุฉ ุฅูู 2.35 ุซุงููุฉ (ุชุญุณู 56%)
  - **โ ุฅุถุงูุฉ APIs ุงูููููุฏุฉ:** /api/health ู /api/stats-summary ูุนููุงู ุจุดูู ูุซุงูู
  - **โ ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ุงุณุชุนูุงู ูุงุญุฏ ูุญุณู ุจุฏูุงู ูู 8 ุงุณุชุนูุงูุงุช ูููุตูุฉ
  - **โ ุฅุตูุงุญ ุฃุฎุทุงุก TypeScript:** ุญู ุฌููุน ุงููุดุงูู ุงูุจุฑูุฌูุฉ ูุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู
  - **โ ุชูููู ุฑุณุงุฆู console:** ุฅุฒุงูุฉ ุงููุฎุฑุฌุงุช ุงูููุฑุทุฉ ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
  - **๐ฏ ุงููุฏู ูุญูู:** ุงูุฃุฏุงุก ุงูุขู ููุชุงุฒ ูุฃูู ูู 2.5 ุซุงููุฉ
- **ุชุญุณูู ุดุงูู ูุฑุณุงุฆู ุงูุฎุทุฃ ูุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (5 ุฃุบุณุทุณ 2025 - 9:40 ูุณุงุกู):**
  - **โ ุฑุณุงุฆู ุฎุทุฃ ุชูุตูููุฉ:** ุชุญููู ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุนุงูุฉ ุฅูู ุฑุณุงุฆู ูุงุถุญุฉ ูููุตูุฉ
  - **โ ุชุญุณูู API responses:** ุฅุถุงูุฉ ุชูุงุตูู ูุญุฏุฏุฉ ููุฃุฎุทุงุก ูุน ุฃุณุจุงุจ ูุงุถุญุฉ
  - **โ ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ:** ุนุฑุถ ูุงุฆูุฉ ุจุงูุฃุฎุทุงุก ูุน ุฑููุฒ ูููุช ุฃุทูู ูููุฑุงุกุฉ
  - **โ ุชุตููู ุฃููุงุน ุงูุฃุฎุทุงุก:** ุชูููุฒ ุจูู ุฃุฎุทุงุก ุงูุชุญูู ูุงููุงุนุฏุฉ ูุงูุดุจูุฉ
  - **โ ุฅุฑุดุงุฏุงุช ุญู ุงููุดุงูู:** ุชูุฏูู ูุตุงุฆุญ ุนูููุฉ ูุญู ูู ููุน ุฎุทุฃ
- **ุชูุฑูุฑ ูุญุต ุดุงูู ูููุธุงู ูุฎุทุฉ ุงูุชุญุณููุงุช ูููุดุฑ (5 ุฃุบุณุทุณ 2025):**
  - **ูุญุต ุดุงูู ููุชูู:** ุชุญููู ุฏููู ูุญุงูุฉ ุงููุธุงู ุจูุณุจุฉ ุฌุงูุฒูุฉ 87% ูููุดุฑ
  - **ุชุญุฏูุฏ ุงูููุงุท ุงูุญุฑุฌุฉ:** ุฃุฏุงุก ุฅุญุตุงุฆูุงุช ุงููุดุงุฑูุน ูุญุชุงุฌ ุชุญุณูู (5.39 ุซุงููุฉ โ <1 ุซุงููุฉ)
  - **ุฅูุดุงุก ุฎุทุฉ ุงูุชุญุณููุงุช:** ุฌุฏููุฉ ููุตูุฉ ูุฅุตูุงุญ ุงููุดุงูู ุงูุญุฑุฌุฉ ุฎูุงู ุฃุณุจูุน
  - **ุชุฃููุฏ ุงูุชุญุฏูุซุงุช ุงููุจุงุดุฑุฉ:** ุงููุธุงู ูุฏุนู ุงูุนูููุงุช ุงูููุฑูุฉ ุจุฏูู ุชุฃุฎูุฑ ููุง ุทูุจ ุงููุณุชุฎุฏู
  - **ูููุงุช ุงูุชูุซูู:** ุฅูุดุงุก ุชูุฑูุฑ-ูุญุต-ุดุงูู-ุงููุธุงู.md ู ุฎุทุฉ-ุงูุชุญุณููุงุช-ูููุดุฑ.md
- **ุฅุตูุงุญ ููุงุฆู ูุดุงูู ููุธุงู ุงููุดุชุฑูุงุช ุงูุขุฌูุฉ (5 ุฃุบุณุทุณ 2025):**
  - **ุฅุตูุงุญ ุฌุฐุฑู ูู ุญุณุงุจ ุงูุฅุฌูุงููุงุช:** ุชุนุฏูู ุฏุงูุฉ calculateTotals() ูุญุณุงุจ ุงููุดุชุฑูุงุช ุงูููุฏูุฉ ููุท
  - **ุฅุตูุงุญ ุชูุฑูุฑ Excel ูููุตุฑููุงุช:** ุงููุดุชุฑูุงุช ุงูุขุฌูุฉ ุชุธูุฑ ูุน ุชูููุฒ ุจุตุฑู ููู ูุง ุชูุฎุตู ูู ุงูุฑุตูุฏ
  - **ุชุญุณูู ุงูุนุฑุถ ูู ุงููุตุฑููุงุช ุงูููููุฉ:** ุนุฑุถ ูููุตู ูููุดุชุฑูุงุช ุงูููุฏูุฉ ูุงูุขุฌูุฉ ูุน ุชูุถูุญ ุงูุชุฃุซูุฑ ุนูู ุงูุฑุตูุฏ
  - **ุชูุณูู CSS ูุญุณู:** ุฅุถุงูุฉ ุชูุณููุงุช ุฎุงุตุฉ ูููุดุชุฑูุงุช ุงูุขุฌูุฉ (.modern-deferred-row) ุจุฃููุงู ุจุฑุชูุงููุฉ ูููุฒุฉ
  - **ุถูุงู ุงูุฏูุฉ ุงููุญุงุณุจูุฉ ุงููุงููุฉ:** ุงููุดุชุฑูุงุช ุงูููุฏูุฉ ุชุคุซุฑ ุนูู ุงูุฑุตูุฏุ ุงูุขุฌูุฉ ุชุธูุฑ ูููุชุงุจุนุฉ ููุท
- **ุชุทููุฑ ูุธุงู ุฅููุงู ุชููุงุฆู ูุญุณู ูุน ูุนุงูุฌุฉ ุงููุดุชุฑูุงุช ุงูุขุฌูุฉ (5 ุฃุบุณุทุณ 2025):**
  - **ุฅุตูุงุญ ูุดููุฉ ุญูุธ ุงููุดุชุฑูุงุช:** ุญู ุชุถุงุฑุจ ุฃุณูุงุก ุงูุญููู ุจูู paymentType ู purchaseType
  - **ูุนุงูุฌุฉ ุฐููุฉ ูููุดุชุฑูุงุช ุงูุขุฌูุฉ:** ุงููุดุชุฑูุงุช ุงูุขุฌูุฉ ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููู ูุง ุชูุญุณุจ ุถูู ูุตุฑููุงุช ุงูููู
  - **ูุธุงู ุฅููุงู ุชููุงุฆู ูุญุณู:** ุญูุธ ุงูุจูุงูุงุช ุญุชู ุนูุฏ ูุดู ุญูุธ ุงููููุฐุฌ ุงูุฃุตูู
  - **ุชุญุณูู Schema validation:** ุฅุถุงูุฉ ุชุญููู ุชููุงุฆู ููุฃุฑูุงู ูููู ุงูุชุฑุงุถูุฉ ูุญุณูุฉ
  - **ุญุณุงุจ ุชููุงุฆู ูููุจุงูุบ:** ุญุณุงุจ ุงููุจูุบ ุงููุฏููุน ูุงููุชุจูู ุญุณุจ ููุน ุงููุดุชุฑู (ููุฏ/ุขุฌู)
  - **ููุชุฑุฉ ุฐููุฉ ูู ุงูุชูุงุฑูุฑ:** ุงููุดุชุฑูุงุช ุงูููุฏูุฉ ููุท ุชุธูุฑ ูู ุงููุตุฑููุงุช ุงูููููุฉ ูุงูุชูุงุฑูุฑ ุงููุงููุฉ
- **ุฅุตูุงุญ ุดุงูู ูุชูุณูู ุงูุชูุงุฑูุฎ ูู ุฌููุน ุงูุชูุงุฑูุฑ (5 ุฃุบุณุทุณ 2025):**
  - **ุชุญููู ูุงูู ููุชูุณูู ุงูุฅูุฌููุฒู DD/MM/YYYY:** ุชุทุจูู ุงูุชูุณูู ุงููุทููุจ 05/08/2025
  - **ุฅุตูุงุญ ูุดููุฉ ุงูุตูุญุงุช ุงููุงุฑุบุฉ:** ุชุญุฏูุฏ ููุทูุฉ ุงูุทุจุงุนุฉ ุจุฏูุฉ ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงููุนููุฉ
  - **ุชูุญูุฏ ุชูุณูู ุงูููุช:** ุงุณุชุฎุฏุงู en-GB ูุน ุงูุชูููุช 24 ุณุงุนุฉ
  - **ุฅุฒุงูุฉ ุงูุชูุณููุงุช ุงูุตูููุฉ:** ุชุญููู ุฌููุน ุงูุชูุงุฑูุฎ ูู ุงูุชูุณูู ุงูุฃูุฑููู MM/DD/YYYY
- **ุชุทููุฑ ุงุญุชุฑุงูู ุดุงูู ูุชูุฑูุฑ ูุดู ุญุณุงุจ ุงูุนุงูู Excel (5 ุฃุบุณุทุณ 2025):**
  - **ุชุตููู ุงุญุชุฑุงูู ูุชุทูุฑ:** ููุฏุฑ ุจุชุฏุฑุฌ ูููู ูุดุนุงุฑ ูุคุณุณู ูุน ูุนูููุงุช ุดุงููุฉ
  - **ุนููุฏ ุนุฏุฏ ุงูุฃูุงู ุงููุญุณู:** ุนุฑุถ ุชูุตููู (ููู ูุงููุ ูุตูุ ุฑุจุน) ูุน ุฑููุฒ ุจุตุฑูุฉ
  - **ุญุณุงุจ ุงูุฃุฌุฑ ุงูุฐูู:** ุญุณุงุจ ุฏููู ููุฃุฌุฑ ุงููุณุชุญู ุจูุงุกู ุนูู ุนุฏุฏ ุงูุฃูุงู ุงููุนููุฉ
  - **ุฃุณูุงุก ูููู ุญููููุฉ:** ุนุฑุถ ุจูุงูุงุช ุงูุนูุงู ุงููุนููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  - **ุชุญููู ุฅูุฌููุฒู ูุงูู:** ุฌููุน ุงูุฃุฑูุงู ูุงูุชูุงุฑูุฎ ุจุงูุชูุณูู ุงูุฅูุฌููุฒู
  - **ูุคุดุฑุงุช ููุงุกุฉ:** ุนููุฏ ุชูููู ุฃุฏุงุก ุงูุนุงูู (ููุชุงุฒุ ุฌูุฏุ ูุญุชุงุฌ ุชุญุณูู)
  - **12 ุนููุฏ ุดุงูู:** ุจูุงูุงุช ููุตูุฉ ุชุดูู ุงูููุงุกุฉ ูุงูููุงุญุธุงุช ูุงูุญุงูุฉ
  - **ุฃููุงู ุฐููุฉ:** ุชูููู ุชููุงุฆู ุญุณุจ ุญุงูุฉ ุงูุฏูุน ููุณุชูู ุงูุฃุฏุงุก
  - **ุทุจุงุนุฉ A4 ูุญุณูุฉ:** ูููุงุณ 85% ูููุงูุด ูุถุบูุทุฉ ูุงุณุชุบูุงู ุฃูุซู ูููุณุงุญุฉ
  - **ุฅุญุตุงุฆูุงุช ุดุงููุฉ:** ุฅุฌูุงูู ุงูุฃูุงูุ ุงูููุงุกุฉ ุงูุนุงูุฉุ ุงูุญุงูุฉ ุงููุงููุฉ
  - **ุชุฐููู ุงุญุชุฑุงูู:** ูุนูููุงุช ุงููุธุงู ูุน ุฎุท ูุงุตู ุฃููู ูุชูููุช ุงูุฅุตุฏุงุฑ
- **ุชุญุณูู ุนุฑุถ ุจูุงูุงุช ุงูููุงุตูุงุช ูู ุชูุฑูุฑ Excel (4 ุฃุบุณุทุณ 2025):**
  - ุฅุฒุงูุฉ ุงููุต ุงูุซุงุจุช ููุฑุฃุณ ูุงูุชุฐููู ูู ุชูุงุฑูุฑ Excel
  - ุชุญุณูู ุนุฑุถ ุชูุงุตูู ุงูููุงุตูุงุช ูุฅุธูุงุฑ ุงูุจูุงูุงุช ุงููุนููุฉ ุงููุฏุฎูุฉ
  - ุนุฑุถ ุงููุณุงูุฉ ูุงูุชูุงุตูู ุงูุญููููุฉ ุจุฏูุงู ูู ุงููุตูุต ุงูุงูุชุฑุงุถูุฉ
- **ุชุญุณูู ุดุงูู ูุงุญุชุฑุงูู ูุชูุฑูุฑ Excel ุงููุตุฑููุงุช ุงูููููุฉ (4 ุฃุบุณุทุณ 2025):**
  - **ุฅุนุฏุงุฏ ุทุจุงุนุฉ A4 ูุญุณู:** ุถุจุท ููุงุณุงุช ูููุงูุด ูุซุงููุฉ ูุน ุฑุฃุณ ูุชุฐููู ุชููุงุฆู
  - **ุฌุฏุงูู ุงุญุชุฑุงููุฉ ูุญุณูุฉ:** ุชูุณูู ุจุตุฑู ูุชูุฏู ูุน ุฃููุงู ูุชุฏุฑุฌุฉ ูุญุฏูุฏ ูุงุถุญุฉ
  - **ุนุฑุถ ุฃุนูุฏุฉ ุฏููุงูููู ูุญุณู:** ุนุฑุถ ููุญูุณูู (6-30 ูุญุฏุฉ) ูุงุณุชุบูุงู ูุณุงุญุฉ A4 ุฃูุซู
  - **ุจูุงูุงุช ุญููููุฉ ุดุงููุฉ:** ุนุฑุถ ุฃุณูุงุก ุงูุนูุงู ุงููุนููุฉุ ุงููููุ ุณุงุนุงุช ูุฃูุงู ุงูุนูู
  - **ุฃูุณุงู ููุธูุฉ ููููุฉ:** ุชูุณูู ุงููุตุฑููุงุช (ุนูุงูุ ููุงุฏุ ููู) ูุน ุฑููุฒ ูููุฒุฉ
  - **ููุฎุต ูุงูู ููุตุญุญ:** ุฅุตูุงุญ ุญุณุงุจุงุช ุงููุงุฑุฏุงุช ูุงููุชุจูู ูุน ุนุฑุถ ุฏููู ููุจูุงูุงุช
  - **ุงุฑุชูุงุน ุตููู ูุญุณู:** ุฒูุงุฏุฉ ุงุฑุชูุงุน ุงูุตููู (30-35 ูุญุฏุฉ) ูุงุณุชุบูุงู ุฃูุซู ูููุณุงุญุฉ
  - **ุชูุงุตูู ุดุงููุฉ:** ุนุฑุถ ุนุฏุฏ ุณุงุนุงุช ูุฃูุงู ุงูุนููุ ุฑูู ุงููุงุชูุฑุฉุ ุงูุทุฑูู ููููู
  - **ุชูุณูู ุฃุฑูุงู ุงุญุชุฑุงูู:** ุนููุฉ ุจููุงุตู ุขูุงู ูุนุดุฑููู ูุน ุชูุณูุท ูุซุงูู
  - **ุฃุณูุงุก ูููุงุช ุฐููุฉ:** ุชุชุถูู ุงุณู ุงููุดุฑูุน ูุงูุชุงุฑูุฎ ููุชูุธูู ุงูุฃูุซู
- **ุฅุตูุงุญ ููุงุฆู ูุญูู carried_forward_amount (4 ุฃุบุณุทุณ 2025):**
  - ุชู ุญู ุงููุดููุฉ ุงูุฌุฐุฑูุฉ ูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase ุจูุฌุงุญ ูุงูู
  - ุฅุถุงูุฉ ุงูุญูู ุจููุงุตูุงุช decimal(10,2) ูุน ููุงุฑุณ ูุญุณูุฉ ููุฃุฏุงุก
  - ุชุญุฏูุซ ุฌููุน ุงูุณุฌูุงุช ุงูููุฌูุฏุฉ ูุฅุฒุงูุฉ ุงูููุฏ ุงููุคูุช

## Overview
This is a comprehensive web application designed for managing construction projects in Arabic. Its primary purpose is to streamline project oversight, financial management, and workforce administration. Key capabilities include robust tools for expense tracking, worker management, supplier administration, and detailed reporting, all within an accurate Arabic interface and responsive design. The system aims to provide a complete solution for managing construction projects, from financial movements to workforce and supplier interactions.

## User Preferences
- ุงููุบุฉ ุงูุฃุณุงุณูุฉ: ุงูุนุฑุจูุฉ
- ุงูุงุชุฌุงู: ูู ุงููููู ูููุณุงุฑ (RTL)
- ุงูุชุฑููุฒ ุนูู ุงูุจุณุงุทุฉ ูุงููุถูุญ ูู ุงููุงุฌูุฉ
- ุงูุชุญุณูู ุงููุณุชูุฑ ููุฃุฏุงุก
- ุงูุชูุงุตู: ุฌููุน ุงูุฑุฏูุฏ ูุงูููุงุญุธุงุช ูุงูุชูุฌููุงุช ูุฌุจ ุฃู ุชููู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ุญุตุฑูุงู
- ุฃุณููุจ ุงูุชูุงุนู: ุงุณุชุฎุฏุงู ุงููุบุฉ ุงูุนุฑุจูุฉ ุงููุงุถุญุฉ ูุงููุจุงุดุฑุฉ ูู ุฌููุน ุงูุงุณุชุฌุงุจุงุช

## System Architecture
The system is built as a comprehensive web application with distinct frontend and backend components, prioritizing an Arabic-first, Right-to-Left (RTL) design.

### UI/UX Decisions
The interface emphasizes simplicity, clarity, and full responsiveness across devices. Design elements include interactive tables with filtering and sorting, professional layouts for reports, and optimized print views to ensure a user-friendly experience.

### Technical Implementations
- **Project Management**: Comprehensive tools for creating and tracking multiple construction projects.
- **Worker Management**: A complete system for worker registration, attendance, wage calculation, and detailed account statements.
- **Expense Tracking**: Detailed recording and categorization of all project-related expenses.
- **Reporting System**: Comprehensive financial reports, daily summaries, and detailed account statements for various entities. This includes advanced reporting with filtering by project and date range, detailed expense categories (labor, petty cash, purchases, wages, transportation, engineers), and income tracking (trust transfers, transaction details). Reports offer interactive tables with automatic totals, Excel export, and print functionality.
- **Supplier Management**: A full system for managing suppliers, including tracking `total_debt`, support for cash and deferred transactions, and linking payments to projects. Features supplier administration, account statements, and smart autocompletion for contact details and payment terms.
- **Advanced Autocompletion**: Provides smart suggestions based on previous usage across various input fields.

### System Design Choices
- **Performance Optimization**: Achieved through optimized database indexing (for search, sorting, and cleanup), an intelligent cleanup system for old data, smart data limits for autocompletion suggestions, and batch operations for efficient data handling. Materialized views are used for daily summaries and autocompletion statistics, updated regularly. Database performance is further ensured by automatic VACUUM operations and monitoring.
- **Project Statistics**: Accurate balance calculation based on the latest daily summaries, including carried-over amounts.
- **Data Unification**: Standardized Gregorian calendar dates and Yemeni Rial (ุฑ.ู) currency for consistency across the application.
- **Administrative Interface**: Provides detailed system statistics, manual maintenance tools, and system health monitoring capabilities.

## External Dependencies
- **Frontend**: React.js, TypeScript, Tailwind CSS, TanStack Query, Wouter
- **Backend**: Node.js, Express.js
- **Database**: Supabase PostgreSQL
- **ORM**: Drizzle ORM