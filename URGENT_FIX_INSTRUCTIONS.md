# إصلاح طارئ لمشكلة الموردين

## السبب في المشكلة:
- جدول suppliers في قاعدة البيانات لا يحتوي على العمود total_debt
- أو أن ترتيب الأعمدة لا يتطابق مع schema الكود

## الحل الطارئ:

### الخطوة 1: تنفيذ الاستعلام الطارئ
افتح SQL Editor في Supabase وانسخ والصق محتويات ملف `emergency_supplier_fix.sql` كاملاً ثم اضغط Run.

هذا سيقوم بـ:
- حذف جدول suppliers الحالي (آمن)
- إعادة إنشاؤه بالهيكل الصحيح تماماً
- إضافة بيانات تجريبية للاختبار

### الخطوة 2: إعادة تشغيل التطبيق
بعد تنفيذ الاستعلام، أعد تحديث الصفحة.

### النتيجة المتوقعة:
- ستختفي رسالة الخطأ "فشل في إضافة المورد"
- ستعمل إضافة الموردين بشكل طبيعي
- ستظهر جميع الحقول بما في ذلك المديونية
- ستعمل الإحصائيات والتقارير

---

## ملاحظة مهمة:
إذا كان لديك موردين مهمين في قاعدة البيانات الحالية، أخبرني قبل تنفيذ الاستعلام وسأقوم بإنشاء نسخة احتياطية أولاً.

**قم بتنفيذ الاستعلام الآن لحل المشكلة نهائياً.**